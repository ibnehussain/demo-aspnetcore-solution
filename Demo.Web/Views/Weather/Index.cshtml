@model Demo.Web.Models.WeatherForecast[]
@{
    ViewData["Title"] = "Weather Forecast";
}

<div class="text-center">
    <h1 class="display-4">Weather Forecast</h1>
    <p>Data retrieved from Demo.API</p>
</div>

@if(ViewBag.Error != null)
{
    <div class="alert alert-danger" role="alert">
        @ViewBag.Error
    </div>
}

@if(Model?.Length > 0)
{
    <div class="row justify-content-center">
        <div class="col-md-8">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Date</th>
                        <th>Temperature (C)</th>
                        <th>Temperature (F)</th>
                        <th>Summary</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var forecast in Model)
                    {
                        <tr>
                            <td>@forecast.Date.ToString("yyyy-MM-dd")</td>
                            <td class="text-center">@forecast.TemperatureC°C</td>
                            <td class="text-center">@forecast.TemperatureF°F</td>
                            <td>
                                <span class="badge 
                                    @(forecast.TemperatureC < 0 ? "bg-primary" : 
                                      forecast.TemperatureC < 10 ? "bg-info" : 
                                      forecast.TemperatureC < 20 ? "bg-success" : 
                                      forecast.TemperatureC < 30 ? "bg-warning" : "bg-danger")">
                                    @forecast.Summary
                                </span>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
}
else if(ViewBag.Error == null)
{
    <div class="text-center">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-2">Loading weather data...</p>
    </div>
}